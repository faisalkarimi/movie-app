(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(17),i=c.n(a),s=(c(24),c(25),c(3)),o=c(8),j=function(e,t){return"SET_CURRENT_PAGE"===t.type?Object(o.a)(Object(o.a)({},e),{},{currentPage:t.payload}):e},l=c(0),u={currentPage:1},d=Object(n.createContext)(u),b=function(e){var t=e.children,c=Object(n.useReducer)(j,u),r=Object(s.a)(c,2),a=r[0],i=r[1];return Object(l.jsx)(d.Provider,{value:{state:a,dispatch:i},children:t})},h=c(7),v=c.n(h),p=c(18),O=c(19),g=c.n(O),f=function(e){var t,c=e.imgPath,n=e.title,r=e.vote_average,a=e.overview;return Object(l.jsxs)("div",{className:"movie",children:[Object(l.jsx)("img",{src:c,alt:n}),Object(l.jsxs)("div",{className:"movie-info",children:[Object(l.jsx)("h3",{children:n}),Object(l.jsx)("span",{className:(t=r,t>=8?"green":t>=5?"orange":"red"),children:r})]}),Object(l.jsxs)("div",{className:"overview",children:[Object(l.jsx)("h3",{children:"Overview"}),a]})]})},x=function(e){var t=e.onSubmit;return Object(l.jsxs)("header",{children:[Object(l.jsx)("h3",{children:"Simple Movie App"}),Object(l.jsx)("form",{id:"form",onSubmit:t,children:Object(l.jsx)("input",{type:"text",id:"search",className:"search",placeholder:"Search"})})]})},m=function(){var e=Object(n.useContext)(d).state,t="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=3fd2be6f0c70a2a598f084ddfb75487c&page=".concat(e.currentPage),c=Object(n.useState)([]),r=Object(s.a)(c,2),a=r[0],i=r[1],o=function(){var e=Object(p.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(t);case 2:c=e.sent,n=c.data,i(n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o(t)}),[t]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{onSubmit:function(e){e.preventDefault();var t=e.target.search.value;t&&""!==t?(o("https://api.themoviedb.org/3/search/movie?api_key=3fd2be6f0c70a2a598f084ddfb75487c&query="+t),e.target.search.value=""):window.location.reload()}}),Object(l.jsx)("main",{children:a.map((function(e){return Object(l.jsx)(f,{imgPath:"https://image.tmdb.org/t/p/w1280"+e.poster_path,title:e.title,vote_average:e.vote_average,overview:e.overview},e.id)}))})]})},P=(c(46),function(){var e=Object(n.useContext)(d),t=e.state,c=e.dispatch,r=Object(n.useState)(!1),a=Object(s.a)(r,2),i=a[0],o=a[1],j=Object(n.useState)(null),u=Object(s.a)(j,2),b=u[0],h=u[1];return Object(l.jsx)("div",{id:"pagination",children:Object(l.jsx)("nav",{children:Object(l.jsx)("div",{style:{textAlign:"center",clear:"both"},children:Object(l.jsxs)("ul",{className:"pagination",onClick:function(e){h(e.target.id),console.log(e.target.id),o(!i)},children:[t.currentPage>5&&Object(l.jsx)("li",{id:"prev",className:"prev"===b&&i&&"active",children:Object(l.jsx)("button",{className:"btn left",onClick:function(){c({type:"SET_CURRENT_PAGE",payload:t.currentPage-5}),console.log(t.currentPage)},children:"Prev"})}),[1,2,3,4,5].map((function(e){return Object(l.jsx)("li",{onClick:function(){c({type:"SET_CURRENT_PAGE",payload:t.currentPage+e}),console.log(t.currentPage)},title:"Page"+e,className:b===e&&i&&"active",children:e},e)})),t.currentPage<500&&Object(l.jsx)("li",{id:"next",className:"next"===b&&i&&"active",children:Object(l.jsx)("button",{className:"btn right",onClick:function(){c({type:"SET_CURRENT_PAGE",payload:t.currentPage+5}),console.log(t.currentPage)},children:"Next"})})]})})})})}),y=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{}),Object(l.jsx)(P,{})]})},N=function(){return Object(l.jsx)("div",{className:"footer",children:"Copyright\xa9 2021"})},C=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(y,{}),Object(l.jsx)(N,{})]})};var _=function(){return Object(l.jsx)(b,{children:Object(l.jsx)(C,{})})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,48)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(_,{})}),document.getElementById("root")),E()}},[[47,1,2]]]);
//# sourceMappingURL=main.4cba15fa.chunk.js.map